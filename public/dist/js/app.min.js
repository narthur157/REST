angular.module("sampleApp",["ngRoute","appRoutes","MainController","NerdController","NerdService","GeekController","GeekService","BearController","BearService","ChatController","ChatService"]);var app=angular.module("appRoutes",[]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/home.html",controller:"MainController"}).when("/nerds",{templateUrl:"views/nerd.html",controller:"NerdController"}).when("/geeks",{templateUrl:"views/geek.html",controller:"GeekController"}).when("/bears",{templateUrl:"views/bear.html",controller:"BearController"}).when("/chat",{templateUrl:"views/chat.html",controller:"ChatController"}),b.html5Mode(!0)}]);var app=angular.module("BearController",["BearService"]);app.controller("BearController",function(a,b){function c(){b.get().then(function(b){a.bears=b})}a.bears=[],a.name="",io.on("bearsUpdated",function(b){console.log("update broadcast received: "+b),a.bears=b,a.$apply()}),a.makeBear=function(){b.create(a.name),a.name=""},a.deleteBear=function(a){void 0!==a&&b.delete(a)},a.updateBear=function(a,c){void 0!==a&&b.update(a,c)},c()});var app=angular.module("ChatController",["ChatService"]);app.controller("ChatController",function(a,b){function c(){d&&e!=a.text&&b.update(a.text)}a.text="";var d=!1,e="";io.on("getText",function(b){d=!0,console.log("from client: getText, loaded is "+d),a.text=b.text,a.$apply()}),io.emit("text:get"),a.$watch("text",c)});var app=angular.module("GeekController",[]);app.controller("GeekController",function(a){a.tagline="The square root of life is pi!"});var app=angular.module("MainController",[]);app.controller("MainController",function(){io.on("err",function(a){console.log(a)}),io.on("log",function(a){console.log("from server: "+a)})});var app=angular.module("NerdController",[]);app.controller("NerdController",function(a){a.tagline="Nothing beats a pocket protector!"});var app=angular.module("BearService",[]);app.factory("Bear",["$http","$q",function(a,b){return{get:function(){var a=b.defer();return io.emit("bears:get"),io.on("bearsSent",function(b){a.resolve(b)}),a.promise},create:function(a){io.emit("bears:create",{name:a})},"delete":function(a){io.emit("bears:remove",{_id:a})},update:function(a,b){var c={_id:a,name:b};io.emit("bears:update",c)}}}]);var app=angular.module("ChatService",[]);app.factory("Chat",function(){return{update:function(a){io.emit("text:update",{text:a})}}});var app=angular.module("GeekService",[]);app.factory("Geek",["$http",function(a){return{get:function(){return a.get("/api/geeks")},create:function(b){return a.post("/api/geeks",b)},"delete":function(b){return a.delete("/api/geeks/"+b)}}}]);var app=angular.module("NerdService",[]);app.factory("Nerd",["$http",function(a){return{get:function(){return a.get("/api/nerds")},create:function(b){return a.post("/api/nerds",b)},"delete":function(b){return a.delete("/api/nerds/"+b)}}}]);